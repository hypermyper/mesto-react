{"version":3,"sources":["images/logo.svg","components/Header.js","images/edit_button.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","images/close-icon.svg","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikedButtonClassName","type","onClick","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","editButton","about","map","Footer","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_getResponseData","data","method","body","JSON","stringify","deleteLikeCard","addLikeCard","authorization","PopupWithForm","isOpen","onSubmit","title","onClose","children","popupOpened","closeIcon","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","useEffect","current","value","e","preventDefault","ref","id","autoComplete","placeholder","required","EditProfilePopup","onUpdateUser","setName","setDescription","useState","description","minLength","maxLength","onChange","target","AddPlacePopup","place","setPlace","setLink","ImagePopup","App","setСurrentUser","setCards","all","getUserInfo","getCards","userInfo","catch","err","console","log","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","userData","updateAvatar","updateUserInfo","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8MAAe,MAA0B,iCCW1BA,MARf,WACI,OACE,wBAAQC,UAAU,SAAlB,SACE,qBAAKA,UAAU,eAAeC,IAAKC,EAAMC,IAAI,wDCNtC,MAA0B,wCCE5BC,EAAqBC,IAAMC,gBC+CzBC,MA7Cf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAEvCC,EAAcP,IAAMQ,WAAWT,GAE/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAEvCC,EAAyB,wBACZH,EAAQ,0BAA4B,IAGjDI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAErDM,EAAwB,8BACLJ,EAAU,iCAAmC,IAetE,OAEM,0BAASlB,UAAU,UAAnB,UACE,wBAAQuB,KAAK,SAASvB,UAAWiB,EAA2BO,QAPpE,WACEb,EAAaH,MAOP,qBAAKP,IAAKO,EAAKiB,KAAMzB,UAAU,iBAAiBG,IAAKK,EAAKkB,KAAMF,QAhBxE,WACEf,EAAYD,MAgBN,sBAAKR,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCQ,EAAKkB,OACrC,sBAAK1B,UAAU,sBAAf,UACE,wBAAQuB,KAAK,SAASvB,UAAWsB,EAA0BE,QAhBvE,WACEd,EAAWF,MAgBD,mBAAGR,UAAU,yBAAb,SAAuCQ,EAAKW,MAAMQ,mBCEjDC,MAtCf,YAA0G,IAA1FC,EAAyF,EAAzFA,aAAcC,EAA2E,EAA3EA,cAAeC,EAA4D,EAA5DA,WAAYC,EAAgD,EAAhDA,MAAOvB,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAEjFC,EAAcP,IAAMQ,WAAWT,GAErC,OACI,iCACE,0BAASJ,UAAU,UAAnB,UACE,qBAAKA,UAAU,kBAAkBwB,QAASK,EAA1C,SACE,qBAAK5B,IAAKW,EAAYqB,OAAQ9B,IAAKS,EAAYc,KAAM1B,UAAU,4BAEjE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,2BAAf,UACE,oBAAIA,UAAU,sBAAd,SAAqCY,EAAYc,OACjD,wBAAQH,KAAK,SAASvB,UAAU,4BAA4BwB,QAASM,EAArE,SACE,qBAAK7B,IAAKiC,EAAY/B,IAAI,qJAG9B,mBAAGH,UAAU,4BAAb,SAA0CY,EAAYuB,WAExD,wBAAQZ,KAAK,SAASvB,UAAU,sBAAsBwB,QAASO,OAEjE,yBAAS/B,UAAU,WAAnB,SAEIgC,EAAMI,KAAI,SAAA5B,GAAI,OACZ,cAAC,EAAD,CACEA,KAAMA,EACNC,YAAaA,EAEbC,WAAYA,EACZC,aAAcA,GAFTH,EAAKQ,cCtBXqB,MARf,WACI,OACE,iCACE,mBAAGrC,UAAU,SAAb,uC,cCmGOsC,EARH,I,WA/FV,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,IACpBF,KAAKG,SAAWJ,EAAQK,Q,6DAGTC,GACf,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAO,IAAIC,MAAJ,gDAAqBL,EAAIM,Y,iCAGrC,IAAD,OACT,OAAOC,MAAM,GAAD,OAAIZ,KAAKC,KAAT,SAAsB,CAChCG,QAASJ,KAAKG,WAEfU,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,iCAG1BU,GAAO,IAAD,OACf,OAAOH,MAAM,GAAD,OAAIZ,KAAKC,KAAT,SAAsB,CAChCe,OAAQ,OACRZ,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnBjC,KAAM6B,EAAK7B,KACXD,KAAM8B,EAAK9B,SAGd4B,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,iCAG1BrC,GAAO,IAAD,OACf,OAAO4C,MAAM,GAAD,OAAIZ,KAAKC,KAAT,iBAAsBjC,GAAQ,CACxCgD,OAAQ,SACRZ,QAASJ,KAAKG,WAEfU,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,kCAGzBrC,GAAO,IAAD,OAChB,OAAO4C,MAAM,GAAD,OAAIZ,KAAKC,KAAT,uBAA4BjC,GAAQ,CAC9CgD,OAAQ,MACRZ,QAASJ,KAAKG,WAEfU,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,qCAGtBrC,GAAO,IAAD,OACnB,OAAO4C,MAAM,GAAD,OAAIZ,KAAKC,KAAT,uBAA4BjC,GAAQ,CAC9CgD,OAAQ,SACRZ,QAASJ,KAAKG,WAEfU,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,2CAGhBrC,EAAMU,GACzB,OAAIA,EACKsB,KAAKoB,eAAepD,GAEpBgC,KAAKqB,YAAYrD,K,oCAIb,IAAD,OACZ,OAAO4C,MAAM,GAAD,OAAIZ,KAAKC,KAAT,YAAyB,CACnCG,QAASJ,KAAKG,WAEfU,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,qCAGtBU,GAAO,IAAD,OACnB,OAAOH,MAAM,GAAD,OAAIZ,KAAKC,KAAT,YAAyB,CACnCe,OAAQ,QACRZ,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnBjC,KAAM6B,EAAK7B,KACXS,MAAOoB,EAAKpB,UAGfkB,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,Q,mCAGxBZ,GAAS,IAAD,OACnB,OAAOmB,MAAM,GAAD,OAAIZ,KAAKC,KAAT,mBAAgC,CAC1Ce,OAAQ,QACRZ,QAASJ,KAAKG,SACdc,KAAMC,KAAKC,UAAU,CACnB1B,OAAQA,MAGXoB,MAAK,SAAAR,GAAG,OAAI,EAAKS,iBAAiBT,U,KAK3B,CAAQ,CAClBH,IAAK,+CACLE,QAAS,CACP,eAAgB,mBAChBkB,cAAe,0CCpGJ,MAA0B,uCCkB1BC,MAff,YACG,IADsBC,EACvB,EADuBA,OAAQtC,EAC/B,EAD+BA,KAAMuC,EACrC,EADqCA,SAAUC,EAC/C,EAD+CA,MAAOC,EACtD,EADsDA,QAASC,EAC/D,EAD+DA,SAEvDC,EAAcL,EAAS,kBAAoB,GAEjD,OACE,yBAAShE,UAAS,0BAAqB0B,GAArB,OAA4B2C,GAA9C,SACE,uBAAMrE,UAAS,oBAAe0B,GAAQA,KAAMA,EAAMuC,SAAUA,EAA5D,UACE,wBAAQ1C,KAAK,SAASvB,UAAU,mBAAmBwB,QAAS2C,EAA5D,SAAqE,qBAAKlE,IAAKqE,EAAWnE,IAAI,gFAC9F,oBAAIH,UAAU,cAAd,SAA6BkE,IAC1BE,QCgCEG,MAzCf,YAA+D,IAApCC,EAAmC,EAAnCA,eAAgBR,EAAmB,EAAnBA,OAAQG,EAAW,EAAXA,QAE3CM,EAAYpE,IAAMqE,SAaxB,OAJArE,IAAMsE,WAAU,WACZF,EAAUG,QAAQC,MAAQ,KAC3B,CAACb,IAGF,cAAC,EAAD,CACEE,MAAM,wFACNxC,KAAK,sBACLsC,OAAQA,EACRG,QAASA,EACTF,SAjBJ,SAAsBa,GACpBA,EAAEC,iBACFP,EAAe,CACbvC,OAAQwC,EAAUG,QAAQC,SAS5B,SAOE,qCACE,uBACEG,IAAKP,EACLQ,GAAG,eACH1D,KAAK,MACLG,KAAK,eACL1B,UAAU,iCACVkF,aAAa,MACbC,YAAY,qGACZC,UAAQ,IAEV,sBAAMH,GAAG,qBAAqBjF,UAAU,uBACxC,wBAAQuB,KAAK,SAASvB,UAAU,sBAAhC,0ECuCOqF,MAzEf,YAA8D,IAAlCC,EAAiC,EAAjCA,aAActB,EAAmB,EAAnBA,OAAQG,EAAW,EAAXA,QAE1CvD,EAAcP,IAAMQ,WAAWT,GAErCC,IAAMsE,WAAU,WACdY,EAAQ3E,EAAYc,MACpB8D,EAAe5E,EAAYuB,SAC1B,CAACvB,IAPuD,MASnCP,IAAMoF,SAAS,IAToB,mBASpD/D,EAToD,KAS9C6D,EAT8C,OAerBlF,IAAMoF,SAAS,IAfM,mBAepDC,EAfoD,KAevCF,EAfuC,KA6B3D,OACE,cAAC,EAAD,CACEtB,MAAM,4HACNxC,KAAK,eACLsC,OAAQA,EACRG,QAASA,EACTF,SAdJ,SAAsBa,GACpBA,EAAEC,iBACFO,EAAa,CACX5D,OACAS,MAAOuD,KAWPJ,aAAcA,EANhB,SAQE,qCACE,uBACEL,GAAG,aACH1D,KAAK,OACLG,KAAK,aACL1B,UAAU,+BACVkF,aAAa,MACbC,YAAY,qBACZQ,UAAU,IACVC,UAAU,KACVR,UAAQ,EACRP,MAAOnD,GAAc,GACrBmE,SAvCR,SAA0Bf,GACxBS,EAAQT,EAAEgB,OAAOjB,UAwCb,sBAAMI,GAAG,mBAAmBjF,UAAU,sBACtC,uBACEiF,GAAG,oBACH1D,KAAK,OACLG,KAAK,oBACL1B,UAAU,sCACVkF,aAAa,MACbC,YAAY,yDACZQ,UAAU,IACVC,UAAU,MACVR,UAAQ,EACRP,MAAOa,GAA4B,GACnCG,SA/CR,SAAiCf,GAC/BU,EAAeV,EAAEgB,OAAOjB,UAgDpB,sBAAMI,GAAG,0BAA0BjF,UAAU,sBAC7C,wBAAQuB,KAAK,SAASvB,UAAU,sBAAhC,0ECAO+F,MApEf,YAAyD,IAAhChE,EAA+B,EAA/BA,WAAYiC,EAAmB,EAAnBA,OAAQG,EAAW,EAAXA,QAAW,EAE5B9D,IAAMoF,SAAS,IAFa,mBAE/CO,EAF+C,KAExCC,EAFwC,OAQ9B5F,IAAMoF,SAAS,IARe,mBAQ/ChE,EAR+C,KAQzCyE,EARyC,KA2BtD,OALA7F,IAAMsE,WAAU,WACdsB,EAAS,IACTC,EAAQ,MACP,CAAClC,IAGF,cAAC,EAAD,CACEE,MAAM,gEACNxC,KAAK,YACLsC,OAAQA,EACRG,QAASA,EACTF,SAnBJ,SAAsBa,GACpBA,EAAEC,iBACFhD,EAAW,CACTL,KAAMsE,EACNvE,UAUF,SAOE,qCACE,uBACEwD,GAAG,kBACH1D,KAAK,OACLG,KAAK,kBACL1B,UAAU,oCACVkF,aAAa,MACbC,YAAY,mDACZQ,UAAU,IACVC,UAAU,KACVR,UAAQ,EACRS,SA1CR,SAA2Bf,GACzBmB,EAASnB,EAAEgB,OAAOjB,QA0CZA,MAAOmB,GAAgB,KAEzB,sBAAMf,GAAG,wBAAwBjF,UAAU,sBAC3C,uBACEiF,GAAG,mBACH1D,KAAK,MACLG,KAAK,mBACL1B,UAAU,qCACVkF,aAAa,MACbC,YAAY,qGACZC,UAAQ,EACRS,SAhDR,SAA0Bf,GACxBoB,EAAQpB,EAAEgB,OAAOjB,QAgDXA,MAAOpD,GAAc,KAEvB,sBAAMwD,GAAG,yBAAyBjF,UAAU,sBAC5C,wBAAQuB,KAAK,SAASvB,UAAU,sBAAhC,0EChDOmG,MAdf,YACG,IADmBnC,EACpB,EADoBA,OAAQtC,EAC5B,EAD4BA,KAAMyC,EAClC,EADkCA,QAAS3D,EAC3C,EAD2CA,KAEnC6D,EAAcL,EAAS,kBAAoB,GACjD,OACE,yBAAShE,UAAS,0BAAqB0B,GAArB,OAA4B2C,GAA9C,SACE,yBAAQrE,UAAU,iBAAlB,UACE,wBAAQuB,KAAK,SAASvB,UAAU,mBAAmBwB,QAAS2C,EAA5D,SAAqE,qBAAKlE,IAAKqE,EAAWnE,IAAI,gFAC9F,qBAAKF,IAAG,UAAKO,EAAKiB,MAAQtB,IAAKK,EAAKkB,KAAM1B,UAAU,0BACpD,4BAAYA,UAAU,0BAAtB,SAAiDQ,EAAKkB,aCgIjD0E,MA9Hf,WAAgB,IAAD,EAEyB/F,IAAMoF,SAAS,IAFxC,mBAEN7E,EAFM,KAEOyF,EAFP,OAGahG,IAAMoF,SAAS,IAH5B,mBAGNzD,EAHM,KAGCsE,EAHD,KAKbjG,IAAMsE,WAAU,WACd3B,QAAQuD,IAAI,CACVjE,EAAIkE,cACJlE,EAAImE,aACHpD,MAAK,YAAwB,IAAD,mBAArBqD,EAAqB,KAAX1E,EAAW,KAC7BqE,EAAeK,GACfJ,EAAStE,MACR2E,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,QAC3B,IAbU,MA8B2CvG,IAAMoF,UAAS,GA9B1D,mBA8BNsB,EA9BM,KA8BiBC,EA9BjB,OA+B6C3G,IAAMoF,UAAS,GA/B5D,mBA+BNwB,EA/BM,KA+BkBC,EA/BlB,OAgCuC7G,IAAMoF,UAAS,GAhCtD,mBAgCN0B,EAhCM,KAgCeC,EAhCf,OAiCiC/G,IAAMoF,UAAS,GAjChD,mBAiCN4B,EAjCM,KAiCYC,EAjCZ,OAmC2BjH,IAAMoF,SAAS,IAnC1C,mBAmCN8B,EAnCM,KAmCQC,EAnCR,KAiDb,SAASC,IACPT,GAAuB,GACvBE,GAAwB,GACxBE,GAAqB,GACrBE,GAAkB,GAClBE,EAAgB,IA+BlB,OACE,mCACE,cAACpH,EAAmBsH,SAApB,CAA6B7C,MAAOjE,EAApC,SACE,sBAAKZ,UAAU,OAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACE6B,aAtDV,WACEmF,GAAuB,IAsDflF,cAnDV,WACEoF,GAAwB,IAmDhBnF,WAhDV,WACEqF,GAAqB,IAgDb3G,YArCV,SAAyBD,GACvBgH,EAAgBhH,GAChB8G,GAAkB,IAoCV5G,WAhFV,SAAwBF,GACtB,IAAMU,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAC3DsB,EAAIqF,qBAAqBnH,EAAKQ,IAAKE,GAASmC,MAAK,SAACuE,GAChD,IAAMC,EAAW7F,EAAMI,KAAI,SAAC0F,GAAD,OAAOA,EAAE9G,MAAQR,EAAKQ,IAAM4G,EAAUE,KACjExB,EAASuB,MACRlB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OA4EpBjG,aAzEV,SAA0BH,GACxB8B,EAAIyF,WAAWvH,EAAKQ,KAAKqC,MAAK,WAC5B,IAAMwE,EAAW7F,EAAMgG,QAAO,SAACF,GAAD,OAAOA,EAAE9G,MAAQR,EAAKQ,OACpDsF,EAASuB,MACRlB,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAsEpB5E,MAAOA,IAET,cAAC,EAAD,IACA,cAAC,EAAD,CACEgC,OAAQ+C,EACR5C,QAASsD,EACTjD,eAlCV,SAA4ByD,GAC1BpB,QAAQC,IAAImB,GACZ3F,EAAI4F,aAAaD,EAAShG,QAAQoB,MAAK,SAACR,GACtCwD,EAAexD,GACf4E,OACCd,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SA+BtB,cAAC,EAAD,CACE5C,OAAQiD,EACR9C,QAASsD,EACTnC,aA9CV,SAA0B2C,GACxB3F,EAAI6F,eAAeF,GAAU5E,MAAK,SAACR,GACjCwD,EAAexD,GACf4E,OACCd,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SA4CtB,cAAC,EAAD,CACE5C,OAAQmD,EACRhD,QAASsD,EACT1F,WApCV,SAA8BvB,GAC5B8B,EAAI8F,WAAW5H,GAAM6C,MAAK,SAACuE,GACzBf,QAAQC,IAAIc,GACZtB,EAAS,CAACsB,GAAF,mBAAc5F,KACtByF,OACCd,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,SAiCtB,cAAC,EAAD,CACE5C,OAAQqD,EACRlD,QAASsD,EACTjH,KAAM+G,YCvHHc,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlF,MAAK,YAAkD,IAA/CmF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.2058bdaf.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n      <header className=\"header\">\r\n        <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\" />\r\n      </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/edit_button.af236f6c.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__trash${isOwn ? ' element__trash_visible' : ''}`\r\n  );\r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikedButtonClassName = (\r\n    `element__like-button${isLiked ? ' element__like-button_selected' : ''}`\r\n  );\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n\r\n        <article className=\"element\">\r\n          <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n          <img src={card.link} className=\"element__photo\" alt={card.name} onClick={handleCardClick} />\r\n          <div className=\"element__body\">\r\n            <h3 className=\"element__title\">{card.name}</h3>\r\n            <div className=\"element__like-group\">\r\n              <button type=\"button\" className={cardLikedButtonClassName} onClick={handleLikeClick}></button>\r\n              <p className=\"element__like-quantity\">{card.likes.length}</p>\r\n            </div>\r\n          </div>\r\n        </article>\r\n\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport editButton from '../images/edit_button.svg';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, cards, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n      <main>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__avatar\" onClick={onEditAvatar}>\r\n            <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar-image\" />\r\n          </div>\r\n          <div className=\"profile-info\">\r\n            <div className=\"profile-info__title-wrap\">\r\n              <h1 className=\"profile-info__title\">{currentUser.name}</h1>\r\n              <button type=\"button\" className=\"profile-info__edit-button\" onClick={onEditProfile}>\r\n                <img src={editButton} alt=\"Редактировать информацию\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile-info__description\">{currentUser.about}</p>\r\n          </div>\r\n          <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace} />\r\n        </section>\r\n        <section className=\"elements\">\r\n          {\r\n            cards.map(card => (\r\n              <Card\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                key={card._id}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n              />\r\n            ))\r\n          }\r\n        </section>\r\n      </main>\r\n   );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n      <footer>\r\n        <p className=\"footer\">© 2020 Mesto Russia</p>\r\n      </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  deleteCard(card) {\n    return fetch(`${this._url}cards/${card}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  addLikeCard(card) {\n    return fetch(`${this._url}cards/likes/${card}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  deleteLikeCard(card) {\n    return fetch(`${this._url}cards/likes/${card}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  changeLikeCardStatus(card, isLiked) {\n    if (isLiked) {\n      return this.deleteLikeCard(card);\n    } else {\n      return this.addLikeCard(card);\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  updateUserInfo(data) {\n    return fetch(`${this._url}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    })\n    .then(res => this._getResponseData(res))\n  }\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    authorization: \"f0bb41fc-432b-4031-ac23-33a1884786fb\",\n  },\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/close-icon.76e82dde.svg\";","import React from 'react';\r\nimport closeIcon from '../images/close-icon.svg';\r\n\r\nfunction PopupWithForm({ isOpen, name, onSubmit, title, onClose, children })\r\n  {\r\n    const popupOpened = isOpen ? ' overlay_opened' : '';\r\n\r\n    return(\r\n      <section className={`overlay overlay_${name}${popupOpened}`}>\r\n        <form className={`form form_${name}`} name={name} onSubmit={onSubmit}>\r\n          <button type=\"button\" className=\"form__close-icon\" onClick={onClose}><img src={closeIcon} alt=\"Закрыть форму\" /></button>\r\n          <h5 className=\"form__title\">{title}</h5>\r\n            {children}\r\n        </form>\r\n      </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ onUpdateAvatar, isOpen, onClose }) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n      avatarRef.current.value = '';\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"edit-profile-avatar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          ref={avatarRef}\r\n          id=\"input-avatar\"\r\n          type=\"url\"\r\n          name=\"input-avatar\"\r\n          className=\"form__input form__input_avatar\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span id=\"input-avatar-error\" className=\"form__avatar-error\"></span>\r\n        <button type=\"submit\" className=\"form__submit-button\">Сохранить</button>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const [name, setName] = React.useState('');\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Редактировать профиль\"\r\n      name=\"edit-profile\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      onUpdateUser={onUpdateUser}\r\n    >\r\n      <>\r\n        <input\r\n          id=\"input-name\"\r\n          type=\"text\"\r\n          name=\"input-name\"\r\n          className=\"form__input form__input_name\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Имя\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={name ? name : ''}\r\n          onChange={handleChangeName}\r\n        />\r\n        <span id=\"input-name-error\" className=\"form__input-error\"></span>\r\n        <input\r\n          id=\"input-description\"\r\n          type=\"text\"\r\n          name=\"input-description\"\r\n          className=\"form__input form__input_description\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Профессия\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          value={description ? description : ''}\r\n          onChange={handleChangeDescription}\r\n        />\r\n        <span id=\"input-description-error\" className=\"form__input-error\"></span>\r\n        <button type=\"submit\" className=\"form__submit-button\">Сохранить</button>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n\r\n  const [place, setPlace] = React.useState('');\r\n\r\n  function handleChangePlace(e) {\r\n    setPlace(e.target.value);\r\n  }\r\n\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: place,\r\n      link\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setPlace('');\r\n    setLink('');\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"new-place\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <>\r\n        <input\r\n          id=\"input-new-place\"\r\n          type=\"text\"\r\n          name=\"input-new-place\"\r\n          className=\"form__input form__input_new-place\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Название\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          required\r\n          onChange={handleChangePlace}\r\n          value={place ? place : ''}\r\n        />\r\n        <span id=\"input-new-place-error\" className=\"form__input-error\"></span>\r\n        <input\r\n          id=\"input-image-link\"\r\n          type=\"url\"\r\n          name=\"input-image-link\"\r\n          className=\"form__input form__input_image-link\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n          onChange={handleChangeLink}\r\n          value={link ? link : ''}\r\n        />\r\n        <span id=\"input-image-link-error\" className=\"form__input-error\"></span>\r\n        <button type=\"submit\" className=\"form__submit-button\">Сохранить</button>\r\n      </>\r\n    </PopupWithForm>\r\n  )\r\n  }\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport closeIcon from '../images/close-icon.svg';\r\n\r\nfunction ImagePopup({ isOpen, name, onClose, card })\r\n  {\r\n    const popupOpened = isOpen ? ' overlay_opened' : '';\r\n    return(\r\n      <section className={`overlay overlay_${name}${popupOpened}`}>\r\n        <figure className=\"overlay-figure\">\r\n          <button type=\"button\" className=\"form__close-icon\" onClick={onClose}><img src={closeIcon} alt=\"Закрыть форму\" /></button>\r\n          <img src={`${card.link}`} alt={card.name} className=\"overlay-figure__image\" />\r\n          <figcaption className=\"overlay-figure__caption\">{card.name}</figcaption>\r\n        </figure>\r\n      </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;\r\n","\r\nimport React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport api from '../utils/api';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [currentUser, setСurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getUserInfo(),\r\n      api.getCards()\r\n    ]).then(([userInfo, cards]) => {\r\n      setСurrentUser(userInfo);\r\n      setCards(cards);\r\n    }).catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      setCards(newCards);\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function handleUpdateUser(userData) {\r\n    api.updateUserInfo(userData).then((res) => {\r\n      setСurrentUser(res);\r\n      closeAllPopups();\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(userData) {\r\n    console.log(userData);\r\n    api.updateAvatar(userData.avatar).then((res) => {\r\n      setСurrentUser(res);\r\n      closeAllPopups();\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    api.addNewCard(card).then((newCard) => {\r\n      console.log(newCard);\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();\r\n    }).catch(err => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"page\">\r\n          <Header />\r\n          <Main\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n          <Footer />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <ImagePopup\r\n            isOpen={isImagePopupOpen}\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n          />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}